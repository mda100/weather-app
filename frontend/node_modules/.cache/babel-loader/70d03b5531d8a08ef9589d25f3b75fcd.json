{"ast":null,"code":"import _regeneratorRuntime from\"/Users/martinadams/Desktop/weather-app/frontend/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/martinadams/Desktop/weather-app/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/martinadams/Desktop/weather-app/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/martinadams/Desktop/weather-app/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/martinadams/Desktop/weather-app/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/martinadams/Desktop/weather-app/frontend/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{useState}from'react';import'./App.css';// Helper Functions\nimport{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";function weatherApiBuilder(location){var type=\"forecast\";var key=\"ba47e033e3c54cd5b8720248211507\";var days=3;var aqi=\"yes\";return\"https://api.weatherapi.com/v1/\\\"\".concat(type,\".json?key=\").concat(key,\"&q=\").concat(location,\"&days=\").concat(days,\"&aqi=\").concat(aqi,\"}&alerts=no\");}// Components\nfunction Location(props){return/*#__PURE__*/_jsxs(\"div\",{className:\"location\",children:[\" \",props.data.weather.location.name,\", \",props.data.weather.location.region,\", \",props.data.weather.location.country,\" \"]});}function Current(props){return/*#__PURE__*/_jsxs(\"div\",{className:\"current\",children:[\" \",props.data.weather.current.temp_f,\"\\xB0 F and \",props.data.weather.current.condition.text,\" \"]});}function Forecast(props){var forecastday=props.data.weather.forecast.forecastday;return/*#__PURE__*/_jsxs(\"div\",{className:\"forecast\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"forecast_1\",children:[forecastday[0].date,\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"img\",{src:forecastday[0].day.condition.icon,alt:\"\"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),forecastday[0].day.maxtemp_f,\"\\xB0 F /\\xA0\",forecastday[0].day.mintemp_f,\"\\xB0 F \",/*#__PURE__*/_jsx(\"br\",{}),forecastday[0].day.avghumidity,\"% Humidity \",/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"forecast_2\",children:[forecastday[1].date,\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"img\",{src:forecastday[1].day.condition.icon,alt:\"\"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),forecastday[1].day.maxtemp_f,\"\\xB0 F /\\xA0\",forecastday[1].day.mintemp_f,\"\\xB0 F \",/*#__PURE__*/_jsx(\"br\",{}),forecastday[1].day.avghumidity,\"% Humidity\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"forecast_3\",children:[forecastday[2].date,\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"img\",{src:forecastday[2].day.condition.icon,alt:\"\"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),forecastday[2].day.maxtemp_f,\"\\xB0 F /\\xA0\",forecastday[2].day.mintemp_f,\"\\xB0 F \",/*#__PURE__*/_jsx(\"br\",{}),forecastday[2].day.avghumidity,\"% Humidity \",/*#__PURE__*/_jsx(\"br\",{})]})]});}function Search(props){return/*#__PURE__*/_jsxs(\"div\",{className:\"search\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,placeholder:\"City, Coordinates, or US/UK Zipcode...\",value:props.value,onChange:props.onChangeValue}),/*#__PURE__*/_jsx(\"button\",{onClick:props.onClick,children:\"Submit\"})]});}// App\nvar App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.handleClick=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var resp,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(weatherApiBuilder(_this.state.location,3));case 3:resp=_context.sent;if(resp.ok){_context.next=6;break;}throw new Error(\"An error has occurred: \".concat(resp.status));case 6:_context.next=8;return resp.json();case 8:data=_context.sent;//if this fails -> catch\n_this.setState({token:true,weather:data});_context.next=15;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 15:case\"end\":return _context.stop();}}},_callee,null,[[0,12]]);}));_this.handleChangeValue=function(e){return _this.setState({location:e.target.value});};_this.state={location:\"\",token:false,weather:\"\"};return _this;}_createClass(App,[{key:\"renderResults\",value:function renderResults(){if(!this.state.token){return/*#__PURE__*/_jsx(\"div\",{className:\"Home\",children:/*#__PURE__*/_jsx(Search,{value:this.state.location,onChangeValue:this.handleChangeValue,onClick:this.handleClick})});}else{return/*#__PURE__*/_jsxs(\"div\",{className:\"Results\",children:[/*#__PURE__*/_jsx(Location,{data:this.state}),/*#__PURE__*/_jsx(Search,{value:this.state.location,onChangeValue:this.handleChangeValue,onClick:this.handleClick}),/*#__PURE__*/_jsx(Current,{data:this.state}),/*#__PURE__*/_jsx(Forecast,{data:this.state})]});}}},{key:\"render\",value:function render(){return this.renderResults();}}]);return App;}(React.Component);export default App;","map":{"version":3,"sources":["/Users/martinadams/Desktop/weather-app/frontend/src/App.js"],"names":["React","useState","weatherApiBuilder","location","type","key","days","aqi","Location","props","data","weather","name","region","country","Current","current","temp_f","condition","text","Forecast","forecastday","forecast","date","day","icon","maxtemp_f","mintemp_f","avghumidity","Search","value","onChangeValue","onClick","App","handleClick","fetch","state","resp","ok","Error","status","json","setState","token","console","log","handleChangeValue","e","target","renderResults","Component"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport './App.css';\n\n// Helper Functions\n\nfunction weatherApiBuilder(location){\n  let type = \"forecast\"\n  let key = \"ba47e033e3c54cd5b8720248211507\"\n  let days = 3\n  let aqi = \"yes\"\n  return `https://api.weatherapi.com/v1/\"${type}.json?key=${key}&q=${location}&days=${days}&aqi=${aqi}}&alerts=no`;\n}\n\n// Components\n  \nfunction Location (props){\n  return <div className=\"location\"> {props.data.weather.location.name}, {props.data.weather.location.region}, {props.data.weather.location.country} </div>\n}\n\nfunction Current (props){\n  return <div className=\"current\"> {props.data.weather.current.temp_f}&deg; F and {props.data.weather.current.condition.text} </div>\n}\n\nfunction Forecast (props){\n  const {forecastday} = props.data.weather.forecast;\n  return (<div className=\"forecast\">\n    <div className=\"forecast_1\"> \n    {forecastday[0].date} <br/>\n    <img src={forecastday[0].day.condition.icon} alt=\"\"/> <br/>\n    {forecastday[0].day.maxtemp_f}&deg; F /&nbsp;\n    {forecastday[0].day.mintemp_f}&deg; F <br/>\n    {forecastday[0].day.avghumidity}% Humidity <br/>\n  </div>\n  <div className=\"forecast_2\">\n    {forecastday[1].date} <br/>\n    <img src={forecastday[1].day.condition.icon} alt=\"\"/> <br/>\n    {forecastday[1].day.maxtemp_f}&deg; F /&nbsp;\n    {forecastday[1].day.mintemp_f}&deg; F <br/>\n    {forecastday[1].day.avghumidity}% Humidity \n  </div>\n  <div className=\"forecast_3\">\n    {forecastday[2].date} <br/>\n    <img src={forecastday[2].day.condition.icon} alt=\"\"/> <br/>\n    {forecastday[2].day.maxtemp_f}&deg; F /&nbsp;\n    {forecastday[2].day.mintemp_f}&deg; F <br/>\n    {forecastday[2].day.avghumidity}% Humidity <br/>\n    </div>\n    </div>)}\n\nfunction Search(props){\n  return (\n  <div className=\"search\">\n  <input\n    type=\"text\"\n    required\n    placeholder=\"City, Coordinates, or US/UK Zipcode...\"\n    value={props.value}\n    onChange ={props.onChangeValue} \n    /> \n  <button \n    onClick= {props.onClick}>\n      Submit\n  </button>\n  </div>);\n\n}\n// App\n\nclass App extends React.Component {\n\n  constructor(props){\n    super(props);\n    this.state = {\n      location: \"\",\n      token: false,\n      weather: \"\",\n    };\n  }\n\n  handleClick = async () => { \n    try {\n        const resp = await fetch(weatherApiBuilder(this.state.location, 3)) //if this fails -> catch\n        if (!resp.ok) {throw new Error(`An error has occurred: ${resp.status}`)} //if this fails -> error\n        const data = await resp.json() //if this fails -> catch\n        this.setState({token: true, weather: data})\n    }\n    catch(error){\n        console.log(error)\n    }\n  }\n\n  handleChangeValue = (e) => this.setState({location: e.target.value})\n\n  renderResults(){\n    if (!this.state.token){\n      return (\n        <div className=\"Home\">\n         <Search value={this.state.location} onChangeValue={this.handleChangeValue} onClick={this.handleClick}/> \n        </div>\n      ) \n    }\n    else {\n      return (\n        <div className=\"Results\">\n          <Location data={this.state}/>\n          <Search value={this.state.location} onChangeValue={this.handleChangeValue} onClick={this.handleClick}/>\n          <Current data={this.state}/> \n          <Forecast data={this.state}/>\n        </div>\n      )\n    }\n  }\n\n  render(){\n    return this.renderResults();\n  }\n}\n\nexport default App;\n\n\n"]},"metadata":{},"sourceType":"module"}